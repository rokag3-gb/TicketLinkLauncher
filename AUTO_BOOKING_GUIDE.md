# 🎫 티켓링크 자동 예매 봇 사용법

## 📋 개요

이 봇은 티켓링크에서 취소표가 나올 때까지 자동으로 모니터링하고, 파란색 좌석이 나타나면 즉시 자동 예매를 진행하는 프로그램입니다.

## 🚀 빠른 시작

### 1단계: 환경 설정

`.env` 파일을 생성하고 슬랙 웹훅 URL을 설정하세요:

```bash
# .env 파일
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#ticket-booking
```

### 2단계: 좌표 설정

```bash
python auto_booking_bot.py
# 선택: 2 (좌표 보정)
```

각 단계별로 마우스를 해당 위치로 이동하고 Enter를 누르세요:

1. **새로고침 버튼** - 좌석선택 페이지의 새로고침 버튼
2. **다음단계 버튼 (좌석 선택 후)** - 좌석 선택 후 다음단계 버튼
3. **일반 0 콤보박스** - 권종 선택 페이지의 일반 0 콤보박스
4. **일반 0 밑의 1 옵션** - 일반 0을 클릭했을 때 나타나는 1 옵션
5. **다음단계 버튼 (권종 선택 후)** - 권종 선택 후 다음단계 버튼
6. **예매자확인 체크박스 1, 2** - 예매확인 페이지의 체크박스들
7. **취소기한및취소수수료동의** - 취소 관련 동의 체크박스
8. **일반결제** - 결제 수단 선택
9. **결제하기 버튼** - 결제 진행 버튼
10. **무통장입금** - PAYCO 팝업의 무통장입금 선택
11. **전자금융거래 이용약관 동의** - 전자금융거래 약관 체크박스
12. **결제하기 버튼 (PAYCO)** - PAYCO 팝업의 결제하기 버튼
13. **하나은행** - 은행 선택에서 하나은행
14. **다음 버튼 (최종)** - 최종 다음 버튼

**좌석 모니터링 영역 설정:**
- 좌석이 표시되는 영역의 왼쪽 상단 모서리로 마우스 이동 후 Enter
- 좌석이 표시되는 영역의 오른쪽 하단 모서리로 마우스 이동 후 Enter

### 3단계: 자동 예매 시작

```bash
python auto_booking_bot.py
# 선택: 1 (자동 예매 시작)
```

## 🔧 자동화 과정

### 1. 모니터링 단계
- 좌석선택 페이지에서 2-4초 랜덤 간격으로 새로고침
- 지정된 영역에서 파란색 좌석 감지

### 2. 좌석 선택 단계
- 파란색 좌석 감지 시 즉시 클릭
- 다음단계 버튼 클릭

### 3. 권종 선택 단계
- 일반 0 콤보박스 클릭
- 일반 0 밑의 1 옵션 클릭
- 다음단계 버튼 클릭

### 4. 예매확인 단계
- 예매자확인 체크박스 2개 체크
- 취소기한및취소수수료동의 체크
- 일반결제 선택
- 결제하기 버튼 클릭

### 5. PAYCO 결제 단계
- 무통장입금 선택
- 전자금융거래 이용약관 동의
- 결제하기 버튼 클릭
- 하나은행 선택
- 다음 버튼 클릭 (최종)

## ⚙️ 설정 옵션

### 색상 감지 설정
```python
# auto_booking_bot.py에서 수정 가능
self.available_seat_color = (0, 123, 255)  # 파란색 (BGR)
self.color_tolerance = 30  # 색상 허용 오차
```

### 새로고침 간격 설정
```python
# auto_booking_bot.py에서 수정 가능
self.refresh_intervals = [2, 3, 4]  # 2초, 3초, 4초
```

## 🛠️ 문제 해결

### 색상 감지가 안 될 때
1. **색상 감지 테스트 실행:**
   ```bash
   python auto_booking_bot.py
   # 선택: 3 (색상 감지 테스트)
   ```

2. **색상 값 조정:**
   - `auto_booking_bot.py`에서 `available_seat_color` 값 수정
   - `color_tolerance` 값 증가

### 좌표가 맞지 않을 때
1. **좌표 재보정:**
   ```bash
   python auto_booking_bot.py
   # 선택: 2 (좌표 보정)
   ```

2. **브라우저 창 크기 확인:**
   - 브라우저 창 크기나 위치가 변경되지 않도록 주의
   - 전체화면 모드 사용 권장

### 슬랙 알림이 안 올 때
1. **웹훅 URL 확인:**
   - `.env` 파일의 `SLACK_WEBHOOK_URL` 확인
   - 슬랙 앱 설정에서 웹훅 URL 재생성

2. **채널 설정 확인:**
   - `.env` 파일의 `SLACK_CHANNEL` 확인
   - 채널명 앞에 `#` 포함

## ⚠️ 주의사항

1. **사전 준비:**
   - 티켓링크에 로그인 완료
   - 좌석선택 페이지까지 이동 완료
   - 좌표 설정 완료

2. **실행 중 주의:**
   - 마우스나 키보드 조작 금지
   - 브라우저 창 크기/위치 변경 금지
   - 긴급 정지: 마우스를 화면 모서리로 이동

3. **법적 고지:**
   - 이 프로그램은 교육 목적으로 제작되었습니다
   - 실제 사용 시 해당 웹사이트의 이용약관을 준수해주세요
   - 과도한 요청으로 인한 서버 부하를 방지하기 위해 적절한 딜레이를 설정해주세요

## 📞 지원

문제가 발생하면 다음을 확인해주세요:
1. Python 버전 (3.8+ 권장)
2. 필요한 패키지 설치: `pip install -r requirements.txt`
3. 좌표 설정 정확성
4. 색상 감지 테스트 결과

## 🎯 성공 팁

1. **좌표 설정 시 정확성:**
   - 각 버튼의 정확한 중앙을 클릭하도록 설정
   - 체크박스는 체크 표시가 나타나는 부분 클릭

2. **색상 감지 최적화:**
   - 파란색 좌석의 정확한 색상 값 확인
   - 모니터링 영역을 좌석이 표시되는 부분에만 설정

3. **네트워크 환경:**
   - 안정적인 인터넷 연결
   - 페이지 로딩 시간 고려

4. **시스템 성능:**
   - 다른 프로그램 종료로 CPU 사용량 최소화
   - 화면 해상도 변경 금지 